import{a as l}from"./chunk-PJMKHLN3.js";import{B as n,c as i,ga as o,j as a,m as c}from"./chunk-KXOE7I45.js";var h=(()=>{class e{constructor(){this.apiService=c(l),this.user=n(JSON.parse(localStorage.getItem("angular-ecommerce-user")||"null")),this.isLoggedIn=o(()=>!!this.user()),this.isAdmin=o(()=>this.user()?.role==="admin")}login(s,r){return i(this,null,function*(){let t=yield this.apiService.login(s,r);return t.success&&(this.user.set(t.user),localStorage.setItem("angular-ecommerce-user",JSON.stringify(t.user)),localStorage.setItem("angular-ecommerce-token",t.token)),t})}logout(){this.user.set(null),localStorage.removeItem("angular-ecommerce-user"),localStorage.removeItem("angular-ecommerce-token")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{h as a};
