import{a as F}from"./chunk-PJMKHLN3.js";import{a as q,b as x,c as L,d as P,e as B,f as A,h as j,i as k}from"./chunk-FU5XF3DT.js";import"./chunk-7LJBHI36.js";import{B as y,D as S,F as v,H as M,K as n,L as r,N as b,O as R,P as V,T as E,U as a,V as m,W,Y as u,Z as c,_ as h,aa as T,c as _,ka as I,m as f,n as C,oa as N,r as d,s as p,sa as D,y as t}from"./chunk-KXOE7I45.js";function G(o,U){if(o&1&&(n(0,"div",4),a(1),r()),o&2){let l=V();t(),m(l.error())}}var te=(()=>{class o{constructor(){this.router=f(N),this.api=f(F),this.i18n=f(D),this.form={name:"",email:"",password:""},this.error=y(""),this.t=this.i18n.t.bind(this.i18n)}handleRegister(){return _(this,null,function*(){this.error.set("");try{(yield this.api.register(this.form)).success&&(alert("Usu\xE1rio cadastrado com sucesso! Por favor, fa\xE7a o login."),this.router.navigate(["/login"]))}catch(l){this.error.set(l.message)}})}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275cmp=C({type:o,selectors:[["app-register"]],standalone:!0,features:[T],decls:21,vars:10,consts:[["f","ngForm"],[1,"form-container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"alert","alert-danger"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(g,e){if(g&1){let s=b();n(0,"div",1)(1,"h2",2),a(2),r(),n(3,"form",3,0),R("ngSubmit",function(){return d(s),p(e.handleRegister())}),S(5,G,2,1,"div",4),n(6,"div",5)(7,"label",6),a(8),r(),n(9,"input",7),h("ngModelChange",function(i){return d(s),c(e.form.name,i)||(e.form.name=i),p(i)}),r()(),n(10,"div",5)(11,"label",8),a(12),r(),n(13,"input",9),h("ngModelChange",function(i){return d(s),c(e.form.email,i)||(e.form.email=i),p(i)}),r()(),n(14,"div",5)(15,"label",10),a(16),r(),n(17,"input",11),h("ngModelChange",function(i){return d(s),c(e.form.password,i)||(e.form.password=i),p(i)}),r()(),n(18,"div",12)(19,"button",13),a(20),r()()()()}if(g&2){let s=E(4);t(2),m(e.t("register")),t(3),M(e.error()?5:-1),t(3),m(e.t("name")),t(),u("ngModel",e.form.name),t(3),m(e.t("email")),t(),u("ngModel",e.form.email),t(3),m(e.t("password")),t(),u("ngModel",e.form.password),t(2),v("disabled",s.invalid),t(),W(" ",e.t("register")," ")}},dependencies:[I,k,A,q,x,L,j,B,P],encapsulation:2,changeDetection:0})}}return o})();export{te as RegisterComponent};
