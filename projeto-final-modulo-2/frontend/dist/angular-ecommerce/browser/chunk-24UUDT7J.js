import{B as s,a as r,b as c,ga as n,ia as u,j as o}from"./chunk-KXOE7I45.js";var h=(()=>{class i{constructor(){this.cart=s(JSON.parse(localStorage.getItem("angular-ecommerce-cart")||"[]")),this.itemCount=n(()=>this.cart().reduce((a,t)=>a+t.quantity,0)),this.total=n(()=>this.cart().reduce((a,t)=>a+t.price*t.quantity,0)),u(()=>{localStorage.setItem("angular-ecommerce-cart",JSON.stringify(this.cart()))})}addToCart(a){this.cart.update(t=>t.find(e=>e.id===a.id)?t.map(e=>e.id===a.id?c(r({},e),{quantity:e.quantity+1}):e):[...t,c(r({},a),{quantity:1})])}clearCart(){this.cart.set([])}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{h as a};
