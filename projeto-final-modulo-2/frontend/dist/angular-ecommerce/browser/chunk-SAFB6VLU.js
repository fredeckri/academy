import{a as F}from"./chunk-3JDA3SAT.js";import"./chunk-PJMKHLN3.js";import{a as q,b as A,c as R,d as k,e as B,f as P,h as j,i as G}from"./chunk-FU5XF3DT.js";import"./chunk-7LJBHI36.js";import{B as S,D as _,F as y,H as b,K as i,L as n,N as M,O as L,P as E,T as V,U as r,V as l,W as x,Y as c,Z as f,_ as h,aa as I,c as v,ka as N,m as p,n as C,oa as T,pa as W,r as g,s as u,sa as D,y as t}from"./chunk-KXOE7I45.js";function H(o,z){if(o&1&&(i(0,"div",4),r(1),n()),o&2){let s=E();t(),l(s.error())}}var te=(()=>{class o{constructor(){this.auth=p(F),this.router=p(T),this.i18n=p(D),this.email="",this.password="",this.error=S(""),this.t=this.i18n.t.bind(this.i18n)}handleLogin(){return v(this,null,function*(){this.error.set("");try{(yield this.auth.login(this.email,this.password)).success?this.router.navigate(["/"]):this.error.set(this.t("loginError"))}catch{this.error.set(this.t("loginError"))}})}static{this.\u0275fac=function(m){return new(m||o)}}static{this.\u0275cmp=C({type:o,selectors:[["app-login"]],standalone:!0,features:[I],decls:21,vars:10,consts:[["f","ngForm"],[1,"form-container"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"alert","alert-danger"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-3","text-center"],["routerLink","/register"]],template:function(m,e){if(m&1){let d=M();i(0,"div",1)(1,"h2",2),r(2),n(),i(3,"form",3,0),L("ngSubmit",function(){return g(d),u(e.handleLogin())}),_(5,H,2,1,"div",4),i(6,"div",5)(7,"label",6),r(8),n(),i(9,"input",7),h("ngModelChange",function(a){return g(d),f(e.email,a)||(e.email=a),u(a)}),n()(),i(10,"div",5)(11,"label",8),r(12),n(),i(13,"input",9),h("ngModelChange",function(a){return g(d),f(e.password,a)||(e.password=a),u(a)}),n()(),i(14,"div",10)(15,"button",11),r(16),n()()(),i(17,"p",12),r(18),i(19,"a",13),r(20),n()()()}if(m&2){let d=V(4);t(2),l(e.t("login")),t(3),b(e.error()?5:-1),t(3),l(e.t("email")),t(),c("ngModel",e.email),t(3),l(e.t("password")),t(),c("ngModel",e.password),t(2),y("disabled",d.invalid),t(),l(e.t("login")),t(2),x("",e.t("dontHaveAccount")," "),t(2),l(e.t("register"))}},dependencies:[N,G,P,q,A,R,j,B,k,W],encapsulation:2,changeDetection:0})}}return o})();export{te as LoginComponent};
